<div class="project-list-container">
  <nz-card class="project-list-card expanded-card" [nzBordered]="false">
    <div class="header-toolbar">
      <div class="header-title">
        <h2>{{ 'project.tittle' | translate }}</h2>
        <p class="text-muted">{{ 'project.subtittle' | translate }}</p>
      </div>
      <button nz-button nzType="primary" (click)="onAddProject()" nz-tooltip="{{ 'global.add' | translate }}">
        <i nz-icon nzType="plus"></i>
        {{ 'global.add' | translate }}
      </button>
    </div>

    <nz-table [nzData]="projects" [nzLoading]="loading" [nzBordered]="true" [nzSize]="'middle'"
      [nzScroll]="{ x: '1000px' }">
      <thead>
        <tr>
          <th>{{ 'project.name' | translate }}</th>
          <th>{{ 'project.dateInsert' | translate }}</th>
          <th>{{ 'global.actions' | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let project of projects">
          <td>{{ project.name }}</td>
          <td>{{ project.insertDate | date: 'yyyy-MM-dd HH:mm' }}</td>
          <td>
            <div class="action-buttons">
              <button nz-button nzType="default" nzShape="circle" nz-tooltip="{{ 'global.view' | translate }}"
                (click)="onView(project)">
                <i nz-icon nzType="eye"></i>
              </button>

              <button nz-button nzType="primary" nzShape="circle" nz-tooltip="{{ 'global.edit' | translate }}"
                (click)="onEdit(project)">
                <i nz-icon nzType="edit"></i>
              </button>

              <button nz-button nzShape="circle" nzDanger nzType="default" nz-popconfirm
                [nzPopconfirmTitle]="'¿Estás seguro de eliminar este proyecto?'" [nzOkText]="'Sí'" [nzCancelText]="'No'" (nzOnConfirm)="onDelete(project)">
                <i nz-icon nzType="delete"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </nz-card>
</div>
